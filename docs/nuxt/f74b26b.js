(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{558:function(t,e,n){var content=n(583);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(45).default)("2218e6c0",content,!1,{sourceMap:!1})},559:function(t,e,n){var content=n(585);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(45).default)("740b2a34",content,!1,{sourceMap:!1})},562:function(t,e,n){var content=n(591);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(45).default)("b8cb0ece",content,!1,{sourceMap:!1})},580:function(t,e,n){var r=n(87),o=n(88),c=["class","staticClass","style","staticStyle","attrs"];function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}n(29),n(25),n(19),n(24),n(7),n(37),n(23),n(38),t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,h=void 0===l?[]:l,f=data.class,v=data.staticClass,style=data.style,m=data.staticStyle,x=data.attrs,w=void 0===x?{}:x,_=o(data,c);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,v],style:[style,m],attrs:Object.assign({version:"1.0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet"},w)},_),h.concat([n("g",{attrs:{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"}},[n("path",{attrs:{d:"M38 4421 l-33 -29 -3 -371 c-3 -416 -3 -419 66 -448 46 -19 101 -5\n131 34 20 25 21 38 21 324 l0 299 293 0 c268 0 295 2 323 19 63 38 70 128 13\n175 l-31 26 -374 0 -374 0 -32 -29z"}}),n("path",{attrs:{d:"M4271 4424 c-57 -47 -50 -137 13 -175 28 -17 55 -19 324 -19 l292 0\n0 -299 c0 -286 1 -299 21 -324 30 -39 85 -53 131 -34 69 29 69 32 66 448 l-3\n371 -33 29 -32 29 -374 0 -374 0 -31 -26z"}}),n("path",{attrs:{d:"M760 3783 c-8 -3 -26 -10 -38 -16 -54 -26 -52 25 -52 -1206 0 -840 3\n-1147 12 -1165 16 -36 54 -58 99 -58 45 1 71 16 93 53 14 24 16 135 16 1171 0\n1057 -1 1145 -17 1168 -26 39 -77 62 -113 53z"}}),n("path",{attrs:{d:"M1191 3776 c-19 -6 -44 -24 -55 -39 -21 -28 -21 -30 -21 -951 0\n-1016 -3 -960 62 -991 65 -31 143 7 157 76 11 54 7 1791 -4 1830 -18 64 -77\n96 -139 75z"}}),n("path",{attrs:{d:"M2081 3776 c-19 -6 -44 -24 -55 -39 -21 -28 -21 -30 -21 -951 0\n-1016 -3 -960 62 -991 65 -31 143 7 157 76 3 18 6 432 6 921 0 931 0 931 -42\n966 -28 23 -72 30 -107 18z"}}),n("path",{attrs:{d:"M2971 3776 c-19 -6 -44 -24 -55 -39 -21 -28 -21 -30 -21 -951 0\n-1016 -3 -960 62 -991 65 -31 143 7 157 76 3 18 6 432 6 921 0 931 0 931 -42\n966 -28 23 -72 30 -107 18z"}}),n("path",{attrs:{d:"M3861 3776 c-19 -6 -44 -24 -55 -39 -21 -28 -21 -30 -21 -951 0\n-1016 -3 -960 62 -991 65 -31 143 7 157 76 3 18 6 432 6 921 0 931 0 931 -42\n966 -28 23 -72 30 -107 18z"}}),n("path",{attrs:{d:"M4320 3781 c-34 -8 -53 -21 -73 -51 -16 -23 -17 -111 -17 -1168 0\n-1036 2 -1147 16 -1171 22 -37 48 -52 93 -53 45 0 83 22 99 58 9 18 12 325 12\n1165 0 1231 2 1180 -52 1206 -35 17 -51 20 -78 14z"}}),n("path",{attrs:{d:"M1604 3762 c-12 -9 -27 -27 -33 -39 -8 -15 -11 -285 -11 -945 0\n-1015 -4 -950 60 -983 37 -19 63 -19 100 0 63 33 60 -16 60 992 0 849 -1 920\n-17 943 -9 14 -24 30 -33 37 -23 19 -101 16 -126 -5z"}}),n("path",{attrs:{d:"M2500 3767 c-9 -7 -24 -23 -33 -37 -16 -23 -17 -107 -17 -1170 0\n-1063 1 -1147 17 -1170 27 -40 45 -49 93 -49 48 0 66 9 93 49 16 23 17 107 17\n1170 0 1063 -1 1147 -17 1170 -27 40 -45 49 -93 49 -25 0 -52 -5 -60 -12z"}}),n("path",{attrs:{d:"M3390 3767 c-9 -7 -24 -23 -33 -37 -16 -23 -17 -94 -17 -943 0 -1008\n-3 -959 60 -992 37 -19 63 -19 100 0 64 33 60 -32 60 983 0 660 -3 930 -11\n945 -20 39 -51 57 -99 56 -25 0 -52 -5 -60 -12z"}}),n("path",{attrs:{d:"M63 1545 c-63 -27 -64 -35 -61 -446 l3 -371 33 -29 32 -29 374 0 374\n0 31 26 c57 47 50 137 -13 175 -28 17 -55 19 -323 19 l-293 0 0 298 c0 330 0\n331 -66 358 -41 17 -50 17 -91 -1z"}}),n("path",{attrs:{d:"M1174 1545 c-108 -55 -50 -231 69 -208 34 7 83 53 89 85 17 90 -77\n164 -158 123z"}}),n("path",{attrs:{d:"M1618 1544 c-15 -8 -35 -28 -43 -44 -57 -110 69 -214 164 -134 57 47\n50 137 -13 175 -37 23 -71 24 -108 3z"}}),n("path",{attrs:{d:"M2075 1551 c-52 -23 -80 -84 -62 -138 44 -132 243 -72 205 62 -17 61\n-89 99 -143 76z"}}),n("path",{attrs:{d:"M2975 1553 c-29 -7 -56 -34 -71 -70 -29 -67 26 -145 101 -145 48 0\n87 29 102 76 28 81 -48 161 -132 139z"}}),n("path",{attrs:{d:"M3402 1543 c-67 -33 -81 -110 -31 -168 27 -31 37 -35 78 -35 25 0 53\n6 61 13 73 57 63 160 -17 193 -41 18 -50 17 -91 -3z"}}),n("path",{attrs:{d:"M3855 1551 c-40 -18 -68 -58 -68 -100 0 -69 43 -113 109 -113 66 0\n124 72 109 135 -15 57 -98 101 -150 78z"}}),n("path",{attrs:{d:"M4964 1546 c-64 -28 -64 -30 -64 -358 l0 -298 -292 0 c-269 0 -296\n-2 -324 -19 -63 -38 -70 -128 -13 -175 l31 -26 374 0 374 0 32 29 33 29 3 371\nc3 414 2 419 -63 447 -42 17 -51 17 -91 0z"}})])]))}}},581:function(t,e,n){var r=n(87),o=n(88),c=["class","staticClass","style","staticStyle","attrs"];function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}n(29),n(25),n(19),n(24),n(7),n(37),n(23),n(38),t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,h=void 0===l?[]:l,f=data.class,v=data.staticClass,style=data.style,m=data.staticStyle,x=data.attrs,w=void 0===x?{}:x,_=o(data,c);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,v],style:[style,m],attrs:Object.assign({version:"1.0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet"},w)},_),h.concat([n("g",{attrs:{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"}},[n("path",{attrs:{d:"M560 4597 c-50 -25 -50 -23 -47 -599 2 -533 2 -538 23 -559 30 -30\n86 -30 119 1 l25 23 0 489 0 488 488 0 c384 1 491 3 504 14 42 32 43 103 0\n136 -24 19 -42 20 -556 20 -406 0 -537 -3 -556 -13z"}}),n("path",{attrs:{d:"M3448 4590 c-31 -24 -41 -60 -28 -96 21 -55 7 -53 533 -54 l487 0 0\n-487 c1 -385 3 -492 14 -505 30 -40 99 -43 133 -6 17 19 18 53 18 569 l0 548\n-23 23 -23 23 -543 3 c-530 2 -543 2 -568 -18z"}}),n("path",{attrs:{d:"M1074 4086 c-20 -9 -35 -25 -43 -46 -18 -52 -15 -870 3 -914 24 -56\n28 -57 519 -54 l446 3 23 23 23 23 3 448 c2 288 -1 458 -8 475 -20 54 -39 56\n-507 56 -338 -1 -435 -4 -459 -14z m804 -504 l2 -342 -342 2 -343 3 -3 330\nc-1 181 0 336 3 343 3 10 76 12 342 10 l338 -3 3 -343z"}}),n("path",{attrs:{d:"M1392 3727 c-20 -21 -22 -34 -22 -141 0 -64 4 -126 10 -136 15 -28\n64 -40 162 -40 145 0 168 23 168 169 0 97 -12 146 -40 161 -10 6 -72 10 -138\n10 -111 0 -120 -1 -140 -23z"}}),n("path",{attrs:{d:"M2283 4092 c-13 -2 -32 -15 -43 -29 -17 -22 -20 -40 -20 -138 0 -98\n3 -116 21 -139 28 -36 89 -37 124 -1 24 23 25 30 25 138 0 99 -3 118 -20 139\n-20 26 -48 36 -87 30z"}}),n("path",{attrs:{d:"M3122 4085 c-18 -8 -37 -26 -42 -41 -7 -17 -10 -187 -8 -475 l3 -448\n23 -23 23 -23 446 -3 c491 -3 495 -2 519 54 18 44 21 862 3 914 -21 59 -30 60\n-506 60 -346 -1 -434 -3 -461 -15z m803 -500 l0 -340 -342 -3 -343 -2 0 338\nc0 186 3 342 7 345 4 4 158 6 342 5 l336 -3 0 -340z"}}),n("path",{attrs:{d:"M3452 3743 c-28 -11 -42 -62 -42 -157 0 -154 21 -176 169 -176 95 0\n136 10 157 38 9 12 13 55 14 138 0 113 -1 122 -23 142 -21 20 -33 22 -143 21\n-65 0 -125 -3 -132 -6z"}}),n("path",{attrs:{d:"M2623 3923 c-13 -2 -32 -16 -43 -30 -18 -23 -20 -40 -20 -169 l0\n-144 -149 0 -150 0 -20 -26 c-28 -35 -26 -77 3 -111 l24 -28 207 0 207 0 24\n28 c23 27 24 35 24 166 l0 138 62 6 c51 5 67 10 85 32 30 34 29 77 -1 112 -23\n26 -28 27 -127 29 -57 1 -114 0 -126 -3z"}}),n("path",{attrs:{d:"M2415 3215 l-25 -24 0 -231 0 -230 -60 0 c-51 0 -65 -4 -85 -25 -34\n-33 -34 -87 0 -120 24 -25 25 -25 219 -25 124 0 204 4 220 11 50 23 58 112 13\n144 -13 9 -44 15 -79 15 l-58 0 0 170 0 170 135 0 c77 0 144 5 158 11 50 23\n62 95 22 134 -24 25 -25 25 -230 25 -205 0 -206 0 -230 -25z"}}),n("path",{attrs:{d:"M1053 2876 l-28 -24 0 -292 0 -292 28 -24 c34 -29 76 -31 111 -3 l26\n20 0 150 0 149 144 0 c136 0 146 1 171 23 35 29 37 89 6 121 -19 19 -36 21\n-169 26 l-147 5 -3 62 c-3 53 -7 65 -29 83 -34 27 -76 25 -110 -4z"}}),n("path",{attrs:{d:"M2939 2887 c-31 -24 -39 -56 -39 -162 0 -105 0 -107 30 -137 27 -26\n36 -30 68 -25 63 11 72 32 72 169 0 113 -1 120 -25 143 -27 27 -79 33 -106 12z"}}),n("path",{attrs:{d:"M3443 2876 l-28 -24 -3 -231 -3 -231 -140 0 -141 0 -29 -29 -29 -29\n0 -141 0 -141 -56 0 c-48 0 -59 -4 -85 -29 -16 -16 -29 -39 -29 -51 0 -29 26\n-76 45 -84 9 -3 68 -6 131 -6 109 0 116 1 139 25 24 23 25 28 25 170 l0 145\n145 0 c142 0 147 1 170 25 l25 24 0 231 0 230 60 0 c51 0 65 4 85 25 36 35 35\n96 -1 124 -23 18 -41 21 -140 21 -105 0 -115 -2 -141 -24z"}}),n("path",{attrs:{d:"M1905 2705 c-24 -23 -25 -28 -25 -170 l0 -145 -145 0 c-142 0 -147\n-1 -170 -25 -17 -16 -25 -35 -25 -60 0 -25 8 -44 25 -60 l24 -25 370 0 c203 0\n377 3 386 6 19 8 45 55 45 84 0 12 -13 35 -29 51 l-29 29 -141 0 -141 0 0 141\n0 141 -29 29 c-38 37 -82 39 -116 4z"}}),n("path",{attrs:{d:"M3956 2709 l-26 -20 0 -150 0 -149 -59 0 c-80 0 -111 -24 -111 -85 0\n-35 5 -48 26 -64 23 -18 41 -21 140 -21 105 0 115 2 141 24 l28 24 0 207 0\n207 -28 24 c-34 29 -76 31 -111 3z"}}),n("path",{attrs:{d:"M2604 2208 c-36 -17 -44 -52 -44 -193 l0 -135 -141 0 -141 0 -29 -29\nc-29 -29 -29 -31 -29 -146 0 -110 1 -117 25 -140 16 -17 35 -25 60 -25 58 0\n85 35 85 110 l0 60 85 0 85 0 0 -60 c0 -75 27 -110 85 -110 25 0 44 8 60 25\nl25 24 0 288 c-1 302 -1 307 -47 331 -26 14 -50 14 -79 0z"}}),n("path",{attrs:{d:"M1072 2040 c-49 -20 -52 -46 -52 -505 0 -473 1 -483 60 -504 23 -7\n166 -11 457 -11 463 0 483 2 503 56 7 17 10 187 8 475 l-3 448 -23 23 -23 23\n-452 2 c-263 1 -462 -2 -475 -7z m806 -502 l-3 -343 -340 0 -340 0 -3 330 c-1\n181 0 336 3 342 3 10 81 13 345 13 l340 0 -2 -342z"}}),n("path",{attrs:{d:"M1415 1698 c-41 -22 -45 -38 -45 -163 0 -114 1 -123 23 -143 21 -20\n34 -22 141 -22 64 0 126 4 136 10 28 15 40 64 40 162 0 99 -13 137 -55 156\n-33 15 -213 15 -240 0z"}}),n("path",{attrs:{d:"M3452 2034 c-49 -34 -48 -117 1 -142 14 -8 100 -13 247 -15 l225 -2\n3 -145 c2 -132 4 -146 24 -167 23 -25 75 -31 108 -13 32 17 40 67 40 242 0\n188 -10 231 -55 248 -15 6 -142 10 -298 10 -234 0 -276 -2 -295 -16z"}}),n("path",{attrs:{d:"M574 1703 c-12 -2 -30 -13 -40 -25 -18 -19 -19 -48 -19 -569 l0 -548\n23 -23 23 -23 548 0 c516 0 550 1 569 18 37 34 34 103 -6 133 -13 11 -120 13\n-504 14 l-488 0 0 488 c0 478 0 489 -20 510 -12 12 -25 22 -30 22 -4 0 -14 2\n-22 4 -7 2 -23 1 -34 -1z"}}),n("path",{attrs:{d:"M3120 1697 c-33 -17 -50 -53 -50 -109 l0 -48 -45 0 c-56 0 -103 -23\n-115 -56 -6 -14 -10 -86 -10 -160 l0 -134 -234 0 -235 0 -20 -26 c-28 -35 -26\n-77 3 -111 l24 -28 291 0 c364 0 334 -17 341 193 l5 147 62 3 c53 3 65 7 83\n29 18 23 20 40 20 142 -1 125 -6 143 -54 161 -34 13 -36 12 -66 -3z"}}),n("path",{attrs:{d:"M4491 1699 c-51 -20 -50 -10 -51 -531 l0 -488 -487 0 c-531 -1 -513\n1 -534 -58 -13 -38 4 -80 41 -99 20 -10 142 -12 562 -10 l537 2 23 23 23 23 0\n549 c0 536 0 550 -20 569 -25 24 -63 32 -94 20z"}}),n("path",{attrs:{d:"M3634 1526 c-44 -19 -54 -58 -54 -207 l0 -129 -56 0 c-30 0 -64 -4\n-74 -10 -27 -15 -41 -64 -28 -101 19 -54 47 -59 331 -59 315 0 337 6 337 92 0\n68 -11 72 -182 78 l-153 5 -2 135 c-4 170 -5 178 -48 196 -40 16 -32 16 -71 0z"}})])]))}}},582:function(t,e,n){"use strict";n(558)},583:function(t,e,n){var r=n(44)((function(i){return i[1]}));r.push([t.i,".zxing[data-v-e6c95632]{width:100%;position:relative}.zxing__canvas[data-v-e6c95632]{width:100%;aspect-ratio:1}",""]),r.locals={},t.exports=r},584:function(t,e,n){"use strict";n(559)},585:function(t,e,n){var r=n(44)((function(i){return i[1]}));r.push([t.i,".scan-form[data-v-7bfa1658]{width:100%;box-sizing:border-box;border:1px solid #ebebeb;padding:1.5rem 1.8rem;border-radius:2rem;transition:.3s}.scan-form__barcode[data-v-7bfa1658]{margin-bottom:1rem}.scan-form--active[data-v-7bfa1658]{border-color:#2c8eff}.scan-form__btn[data-v-7bfa1658]{width:100%;margin-bottom:1rem}.scan-form__btn-inner[data-v-7bfa1658]{display:flex;width:100%;justify-content:space-between;align-items:center}.scan-form__icon[data-v-7bfa1658]{width:1.8rem;height:1.8rem}.scan-form__icon path[data-v-7bfa1658]{fill:#f1f1f1}.scan-form__scanner[data-v-7bfa1658]{margin-bottom:1rem}.scanner[data-v-7bfa1658]{width:100%}.scanner[data-v-7bfa1658] video{width:100%;position:relative!important}.scanner[data-v-7bfa1658] canvas{width:100%}",""]),r.locals={},t.exports=r},590:function(t,e,n){"use strict";n(562)},591:function(t,e,n){var r=n(44)((function(i){return i[1]}));r.push([t.i,".add__barcode[data-v-f2b1d1a8]{max-width:450px;margin-bottom:1rem}.add__product[data-v-f2b1d1a8]{max-width:400px;margin-bottom:1rem}.add__qrcode[data-v-f2b1d1a8]{max-width:450px}.add__btns[data-v-f2b1d1a8],.add__qrcode[data-v-f2b1d1a8]{margin-bottom:1rem}",""]),r.locals={},t.exports=r},625:function(t,e,n){"use strict";n.r(e);n(25),n(19),n(24),n(7),n(37),n(23),n(38);var r=n(15),o=n(3),c=(n(41),n(0)),d=n.n(c),l=n(89),h=n(580),f=n.n(h),v=n(581),m=n.n(v),x=n(550),w=d.a.extend({name:"Reader",methods:{onDecode:function(t){this.$emit("onDecode",t)},onLoaded:function(t){this.$emit("loaded",t)}}}),_=n(8),y=Object(_.a)(w,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"reader",on:{click:function(e){return t.$emit("click")}}},[e("ClientOnly",[e("StreamBarcodeReader",{staticClass:"reader__body",on:{decode:t.onDecode,loaded:t.onLoaded}})],1)],1)}),[],!1,null,"51e12d0d",null).exports,O=(n(91),n(117),null),z=null,M=null,k=null,j=0,C={name:"Zxing",data:function(){return{result:!1,streaming:!1,width:320,height:0,canvas:null,video:null,context:null,animId:null}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.fixAudioContextWrap(),t.initWorker(),e.next=4,t.initNativeScanner();case 4:t.initMedia();case 5:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){null!==this.animId&&cancelAnimationFrame(this.animId),this.stopStreamedVideo(),null!==M&&M.terminate(),null!==k&&k.terminate()},methods:{fixAudioContextWrap:function(){window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(O=new window.AudioContext),document.addEventListener("touchstart",this.fixAudioContext),document.addEventListener("touchend",this.fixAudioContext)},fixAudioContext:function(){if(O){var t=O.createBuffer(1,1,22050),source=O.createBufferSource();source.buffer=t,source.connect(O.destination),source.start?source.start(0):source.play?source.play(0):source.noteOn&&source.noteOn(0)}document.removeEventListener("touchstart",this.fixAudioContext),document.removeEventListener("touchend",this.fixAudioContext)},beep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:750,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;try{var r=O.createOscillator(),o=O.createGain();r.connect(o),r.frequency.value=t,r.type="square",o.connect(O.destination),o.gain.value=.01*n,r.start(O.currentTime),r.stop(O.currentTime+.001*e)}catch(t){console.warn("Sorry, Web Audio API is not supported by your browser"),console.warn(t.toString())}},initMedia:function(){var t=this;this.canvas=this.$refs.canvas,this.width=this.canvas.width=this.canvas.clientWidth,this.height=this.canvas.height=this.canvas.clientHeight;var video=document.createElement("video");video.setAttribute("id","video"),video.setAttribute("width",this.width),video.setAttribute("height",this.height),video.setAttribute("autoplay",""),this.video=video,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then((function(e){null!==t.video&&(t.video.srcObject=e,e.getVideoTracks().forEach((function(track){track.applyConstraints({advanced:[{exposureMode:"manual"}]}).then((function(){track.applyConstraints({advanced:[{exposureTime:3}]})}))})),t.video.play())})).catch((function(t){return console.log("An error occurred: "+t)})),this.video.addEventListener("canplay",(function(){!t.streaming&&t.video&&t.canvas&&(t.streaming=!0,t.animId=requestAnimationFrame(t.tick))}),!1)},tick:function(time){if(this.video.readyState===this.video.HAVE_ENOUGH_DATA&&(this.context.drawImage(this.video,0,0),this.context.drawImage(this.video,0,0,+this.canvas.width,+this.canvas.height),time-j>600)){j=time;var t=this.context.getImageData(0,0,+this.canvas.width,+this.canvas.height);M.postMessage(t),k.postMessage(t),this.detect()}this.animId=requestAnimationFrame(this.tick)},initNativeScanner:function(){return Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("BarcodeDetector"in window){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,window.BarcodeDetector.getSupportedFormats();case 4:e=t.sent,z=new window.BarcodeDetector({formats:e});case 6:case"end":return t.stop()}}),t)})))()},detect:function(){var t=this;z&&z.detect(this.video).then((function(e){var n=[];e.forEach((function(t){var e=n.find((function(e){return e.val===t.rawValue}));e?e.count+=1:n.push({val:t.rawValue,count:1})}));var r=n.reduce((function(t,e,r){return n[t].count>e.count?t:r}),0);n[r]&&!t.result&&(t.stopAnalyze(!0),t.onDecode(n[r].val))})).catch((function(e){t.error=e}))},initWorker:function(){var t=this;navigator.serviceWorker&&(navigator.serviceWorker.register("/zxing/sw.js").then((function(t){return console.log("ServiceWorker Zxing registration successful with scope: ".concat(t.scope))})).catch((function(t){return console.log("ServiceWorker Zxing registration failed: ".concat(t))})),navigator.serviceWorker.register("/zbar/sw.js").then((function(t){return console.log("ServiceWorker Zbar registration successful with scope: ".concat(t.scope))})).catch((function(t){return console.log("ServiceWorker Zbar registration failed: ".concat(t))}))),(M=new Worker("/zxing/wasmWorker.js")).onmessage=function(e){return t.terminateZhingWorker(e.data)},(k=new Worker("/zbar/wasmWorker.js")).onmessage=function(e){return t.terminateZbarWorker(e.data)}},terminateZhingWorker:function(data){data.error&&this.stopAnalyze(),data.format&&!this.result&&(this.stopAnalyze(!0),this.drawResult(data),this.onDecode(data.text))},terminateZbarWorker:function(data){data&&!this.result&&(this.stopAnalyze(!0),this.onDecode(data))},stopAnalyze:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];cancelAnimationFrame(this.animId),this.stopVideo(),t&&(this.result=!0,this.beep())},stopVideo:function(){this.video&&!this.video.paused&&(this.streaming=!1,this.video.pause())},playVideo:function(){this.video&&this.video.paused&&(this.streaming=!0,this.video.play())},onDecode:function(t){this.$emit("onDecode",t)},stopStreamedVideo:function(){this.video.srcObject.getTracks().forEach((function(track){track.stop()})),this.video.srcObject=null},drawResult:function(code){this.context.beginPath(),this.context.lineWidth=4,this.context.strokeStyle="red",this.context.moveTo(code.position.topLeft.x,code.position.topLeft.y),this.context.lineTo(code.position.topRight.x,code.position.topRight.y),this.context.lineTo(code.position.bottomRight.x,code.position.bottomRight.y),this.context.lineTo(code.position.bottomLeft.x,code.position.bottomLeft.y),this.context.lineTo(code.position.topLeft.x,code.position.topLeft.y),this.context.stroke()},restart:function(){this.streaming||(this.result=!1,this.playVideo(),this.animId=requestAnimationFrame(this.tick))}}},P=C,S=(n(582),Object(_.a)(P,(function(){var t=this._self._c;return t("div",{staticClass:"zxing"},[t("canvas",{ref:"canvas",staticClass:"zxing__canvas",on:{click:this.restart}})])}),[],!1,null,"e6c95632",null).exports),A={barcode:f.a,qrcode:m.a},D={barcode:"Bar Code",qrcode:"QR"},$=d.a.extend({name:"ScanForm",components:{Reader:y,Input:x.a,Button:l.a,Zxing:S,IconBarCode:f.a,IconQrCode:m.a},props:{title:{type:String,default:"Scanner"},type:{type:String,default:"barcode"},value:{type:String,required:!0}},data:function(){return{active:!1,barcodes:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","code_39_vin_reader","codabar_reader"]}},computed:{getIcon:function(){return A[this.type]},getTitle:function(){return D[this.type]},isBarCode:function(){return"barcode"===this.type},model:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{onDecode:function(t){this.$emit("input",t)}}}),R=(n(584),Object(_.a)($,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"scan-form",class:{"scan-form--active":t.value}},[e("Button",{staticClass:"scan-form__btn",attrs:{version:"primary",variant:"filled"}},[e("span",{staticClass:"scan-form__btn-inner"},[e("span",[t._v(t._s(t.title))]),t._v(" "),e(t.getIcon,{tag:"component",staticClass:"scan-form__icon"})],1)]),t._v(" "),e("ClientOnly",[t.isBarCode?e("Zxing",{on:{onDecode:t.onDecode}}):t._e(),t._v(" "),t.isBarCode?t._e():e("Reader",{staticClass:"scan-form__scanner",on:{onDecode:t.onDecode}})],1),t._v(" "),e("Input",{staticClass:"scan-form__input",attrs:{id:t.title,type:"text",label:t.getTitle,name:"scan",icon:"text",disabled:!1},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)}),[],!1,null,"7bfa1658",null).exports),W=n(579);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function B(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var I=d.a.extend({name:"PageAdminIndex",components:{ScanForm:R,AddProduct:W.a,Button:l.a},layout:"admin",data:function(){return{barcode:"",exist:null,description:"",qrcode:""}},methods:{trackProduct:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.$nuxt.$loading.start(),e.next=4,t.$repositories.product.trackProduct(t.barcode);case 4:e.sent||(t.exist=!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$store.dispatch("toast/setToast",{type:"error",message:t.$tc(e.t0.error)});case 11:return e.prev=11,t.$nuxt.$loading.finish(),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()},onSubmit:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.$nuxt.$loading.start(),n.next=4,e.$repositories.product.addProduct(B(B({},t),{},{trackCode:e.barcode}));case 4:n.sent&&(e.exist=!0),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),e.$store.dispatch("toast/setToast",{type:"error",message:e.$tc(n.t0.error)});case 11:return n.prev=11,e.$nuxt.$loading.finish(),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})))()},addProductToCard:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.$nuxt.$loading.start(),e.next=4,t.$repositories.product.addProductToCard({trackCode:t.barcode,cardCode:t.qrcode});case 4:n=e.sent,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$store.dispatch("toast/setToast",{type:"error",message:t.$tc(e.t0.error)});case 11:return e.prev=11,t.$nuxt.$loading.finish(),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}}}),E=(n(590),Object(_.a)(I,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"page add"},[e("div",{staticClass:"container flex-col"},[e("ScanForm",{staticClass:"add__barcode",attrs:{title:"Product Scan"},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.barcode,expression:"barcode"}],staticClass:"add__btns"},[e("Button",{on:{click:t.trackProduct}},[t._v("Send To Check")])],1),t._v(" "),!1===t.exist?e("AddProduct",{staticClass:"add__product",attrs:{"is-user":!1,barcode:t.barcode},on:{onSubmit:t.onSubmit}}):t._e(),t._v(" "),!0===t.exist?e("ScanForm",{staticClass:"add__qrcode",attrs:{title:"Card Scan",type:"qrcode"},model:{value:t.qrcode,callback:function(e){t.qrcode=e},expression:"qrcode"}}):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.qrcode,expression:"qrcode"}],staticClass:"add__btns"},[e("Button",{on:{click:t.addProductToCard}},[t._v("Send To Bag")])],1)],1)])}),[],!1,null,"f2b1d1a8",null));e.default=E.exports}}]);