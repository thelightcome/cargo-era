(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{481:function(d,v,r){var n=r(507);n.__esModule&&(n=n.default),typeof n=="string"&&(n=[[d.i,n,""]]),n.locals&&(d.exports=n.locals);var _=r(24).default,u=_("2218e6c0",n,!1,{sourceMap:!1})},482:function(d,v,r){var n=r(509);n.__esModule&&(n=n.default),typeof n=="string"&&(n=[[d.i,n,""]]),n.locals&&(d.exports=n.locals);var _=r(24).default,u=_("740b2a34",n,!1,{sourceMap:!1})},486:function(d,v,r){var n=r(515);n.__esModule&&(n=n.default),typeof n=="string"&&(n=[[d.i,n,""]]),n.locals&&(d.exports=n.locals);var _=r(24).default,u=_("b8cb0ece",n,!1,{sourceMap:!1})},504:function(d,v,r){var n=r(60),_=r(61),u=["class","staticClass","style","staticStyle","attrs"];r(32);function m(i,l){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);l&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(i,h).enumerable})),s.push.apply(s,c)}return s}function y(i){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?m(Object(s),!0).forEach(function(c){n(i,c,s[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach(function(c){Object.defineProperty(i,c,Object.getOwnPropertyDescriptor(s,c))})}return i}d.exports={functional:!0,render(i,l){var{_c:s,_v:c,data:h,children:x=[]}=l,{class:O,staticClass:b,style:j,staticStyle:w,attrs:P={}}=h,M=_(h,u);return s("svg",y({class:[O,b],style:[j,w],attrs:Object.assign({version:"1.0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet"},P)},M),x.concat([s("g",{attrs:{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"}},[s("path",{attrs:{d:`M38 4421 l-33 -29 -3 -371 c-3 -416 -3 -419 66 -448 46 -19 101 -5
131 34 20 25 21 38 21 324 l0 299 293 0 c268 0 295 2 323 19 63 38 70 128 13
175 l-31 26 -374 0 -374 0 -32 -29z`}}),s("path",{attrs:{d:`M4271 4424 c-57 -47 -50 -137 13 -175 28 -17 55 -19 324 -19 l292 0
0 -299 c0 -286 1 -299 21 -324 30 -39 85 -53 131 -34 69 29 69 32 66 448 l-3
371 -33 29 -32 29 -374 0 -374 0 -31 -26z`}}),s("path",{attrs:{d:`M760 3783 c-8 -3 -26 -10 -38 -16 -54 -26 -52 25 -52 -1206 0 -840 3
-1147 12 -1165 16 -36 54 -58 99 -58 45 1 71 16 93 53 14 24 16 135 16 1171 0
1057 -1 1145 -17 1168 -26 39 -77 62 -113 53z`}}),s("path",{attrs:{d:`M1191 3776 c-19 -6 -44 -24 -55 -39 -21 -28 -21 -30 -21 -951 0
-1016 -3 -960 62 -991 65 -31 143 7 157 76 11 54 7 1791 -4 1830 -18 64 -77
96 -139 75z`}}),s("path",{attrs:{d:`M2081 3776 c-19 -6 -44 -24 -55 -39 -21 -28 -21 -30 -21 -951 0
-1016 -3 -960 62 -991 65 -31 143 7 157 76 3 18 6 432 6 921 0 931 0 931 -42
966 -28 23 -72 30 -107 18z`}}),s("path",{attrs:{d:`M2971 3776 c-19 -6 -44 -24 -55 -39 -21 -28 -21 -30 -21 -951 0
-1016 -3 -960 62 -991 65 -31 143 7 157 76 3 18 6 432 6 921 0 931 0 931 -42
966 -28 23 -72 30 -107 18z`}}),s("path",{attrs:{d:`M3861 3776 c-19 -6 -44 -24 -55 -39 -21 -28 -21 -30 -21 -951 0
-1016 -3 -960 62 -991 65 -31 143 7 157 76 3 18 6 432 6 921 0 931 0 931 -42
966 -28 23 -72 30 -107 18z`}}),s("path",{attrs:{d:`M4320 3781 c-34 -8 -53 -21 -73 -51 -16 -23 -17 -111 -17 -1168 0
-1036 2 -1147 16 -1171 22 -37 48 -52 93 -53 45 0 83 22 99 58 9 18 12 325 12
1165 0 1231 2 1180 -52 1206 -35 17 -51 20 -78 14z`}}),s("path",{attrs:{d:`M1604 3762 c-12 -9 -27 -27 -33 -39 -8 -15 -11 -285 -11 -945 0
-1015 -4 -950 60 -983 37 -19 63 -19 100 0 63 33 60 -16 60 992 0 849 -1 920
-17 943 -9 14 -24 30 -33 37 -23 19 -101 16 -126 -5z`}}),s("path",{attrs:{d:`M2500 3767 c-9 -7 -24 -23 -33 -37 -16 -23 -17 -107 -17 -1170 0
-1063 1 -1147 17 -1170 27 -40 45 -49 93 -49 48 0 66 9 93 49 16 23 17 107 17
1170 0 1063 -1 1147 -17 1170 -27 40 -45 49 -93 49 -25 0 -52 -5 -60 -12z`}}),s("path",{attrs:{d:`M3390 3767 c-9 -7 -24 -23 -33 -37 -16 -23 -17 -94 -17 -943 0 -1008
-3 -959 60 -992 37 -19 63 -19 100 0 64 33 60 -32 60 983 0 660 -3 930 -11
945 -20 39 -51 57 -99 56 -25 0 -52 -5 -60 -12z`}}),s("path",{attrs:{d:`M63 1545 c-63 -27 -64 -35 -61 -446 l3 -371 33 -29 32 -29 374 0 374
0 31 26 c57 47 50 137 -13 175 -28 17 -55 19 -323 19 l-293 0 0 298 c0 330 0
331 -66 358 -41 17 -50 17 -91 -1z`}}),s("path",{attrs:{d:`M1174 1545 c-108 -55 -50 -231 69 -208 34 7 83 53 89 85 17 90 -77
164 -158 123z`}}),s("path",{attrs:{d:`M1618 1544 c-15 -8 -35 -28 -43 -44 -57 -110 69 -214 164 -134 57 47
50 137 -13 175 -37 23 -71 24 -108 3z`}}),s("path",{attrs:{d:`M2075 1551 c-52 -23 -80 -84 -62 -138 44 -132 243 -72 205 62 -17 61
-89 99 -143 76z`}}),s("path",{attrs:{d:`M2975 1553 c-29 -7 -56 -34 -71 -70 -29 -67 26 -145 101 -145 48 0
87 29 102 76 28 81 -48 161 -132 139z`}}),s("path",{attrs:{d:`M3402 1543 c-67 -33 -81 -110 -31 -168 27 -31 37 -35 78 -35 25 0 53
6 61 13 73 57 63 160 -17 193 -41 18 -50 17 -91 -3z`}}),s("path",{attrs:{d:`M3855 1551 c-40 -18 -68 -58 -68 -100 0 -69 43 -113 109 -113 66 0
124 72 109 135 -15 57 -98 101 -150 78z`}}),s("path",{attrs:{d:`M4964 1546 c-64 -28 -64 -30 -64 -358 l0 -298 -292 0 c-269 0 -296
-2 -324 -19 -63 -38 -70 -128 -13 -175 l31 -26 374 0 374 0 32 29 33 29 3 371
c3 414 2 419 -63 447 -42 17 -51 17 -91 0z`}})])]))}}},505:function(d,v,r){var n=r(60),_=r(61),u=["class","staticClass","style","staticStyle","attrs"];r(32);function m(i,l){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);l&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(i,h).enumerable})),s.push.apply(s,c)}return s}function y(i){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?m(Object(s),!0).forEach(function(c){n(i,c,s[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach(function(c){Object.defineProperty(i,c,Object.getOwnPropertyDescriptor(s,c))})}return i}d.exports={functional:!0,render(i,l){var{_c:s,_v:c,data:h,children:x=[]}=l,{class:O,staticClass:b,style:j,staticStyle:w,attrs:P={}}=h,M=_(h,u);return s("svg",y({class:[O,b],style:[j,w],attrs:Object.assign({version:"1.0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet"},P)},M),x.concat([s("g",{attrs:{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"}},[s("path",{attrs:{d:`M560 4597 c-50 -25 -50 -23 -47 -599 2 -533 2 -538 23 -559 30 -30
86 -30 119 1 l25 23 0 489 0 488 488 0 c384 1 491 3 504 14 42 32 43 103 0
136 -24 19 -42 20 -556 20 -406 0 -537 -3 -556 -13z`}}),s("path",{attrs:{d:`M3448 4590 c-31 -24 -41 -60 -28 -96 21 -55 7 -53 533 -54 l487 0 0
-487 c1 -385 3 -492 14 -505 30 -40 99 -43 133 -6 17 19 18 53 18 569 l0 548
-23 23 -23 23 -543 3 c-530 2 -543 2 -568 -18z`}}),s("path",{attrs:{d:`M1074 4086 c-20 -9 -35 -25 -43 -46 -18 -52 -15 -870 3 -914 24 -56
28 -57 519 -54 l446 3 23 23 23 23 3 448 c2 288 -1 458 -8 475 -20 54 -39 56
-507 56 -338 -1 -435 -4 -459 -14z m804 -504 l2 -342 -342 2 -343 3 -3 330
c-1 181 0 336 3 343 3 10 76 12 342 10 l338 -3 3 -343z`}}),s("path",{attrs:{d:`M1392 3727 c-20 -21 -22 -34 -22 -141 0 -64 4 -126 10 -136 15 -28
64 -40 162 -40 145 0 168 23 168 169 0 97 -12 146 -40 161 -10 6 -72 10 -138
10 -111 0 -120 -1 -140 -23z`}}),s("path",{attrs:{d:`M2283 4092 c-13 -2 -32 -15 -43 -29 -17 -22 -20 -40 -20 -138 0 -98
3 -116 21 -139 28 -36 89 -37 124 -1 24 23 25 30 25 138 0 99 -3 118 -20 139
-20 26 -48 36 -87 30z`}}),s("path",{attrs:{d:`M3122 4085 c-18 -8 -37 -26 -42 -41 -7 -17 -10 -187 -8 -475 l3 -448
23 -23 23 -23 446 -3 c491 -3 495 -2 519 54 18 44 21 862 3 914 -21 59 -30 60
-506 60 -346 -1 -434 -3 -461 -15z m803 -500 l0 -340 -342 -3 -343 -2 0 338
c0 186 3 342 7 345 4 4 158 6 342 5 l336 -3 0 -340z`}}),s("path",{attrs:{d:`M3452 3743 c-28 -11 -42 -62 -42 -157 0 -154 21 -176 169 -176 95 0
136 10 157 38 9 12 13 55 14 138 0 113 -1 122 -23 142 -21 20 -33 22 -143 21
-65 0 -125 -3 -132 -6z`}}),s("path",{attrs:{d:`M2623 3923 c-13 -2 -32 -16 -43 -30 -18 -23 -20 -40 -20 -169 l0
-144 -149 0 -150 0 -20 -26 c-28 -35 -26 -77 3 -111 l24 -28 207 0 207 0 24
28 c23 27 24 35 24 166 l0 138 62 6 c51 5 67 10 85 32 30 34 29 77 -1 112 -23
26 -28 27 -127 29 -57 1 -114 0 -126 -3z`}}),s("path",{attrs:{d:`M2415 3215 l-25 -24 0 -231 0 -230 -60 0 c-51 0 -65 -4 -85 -25 -34
-33 -34 -87 0 -120 24 -25 25 -25 219 -25 124 0 204 4 220 11 50 23 58 112 13
144 -13 9 -44 15 -79 15 l-58 0 0 170 0 170 135 0 c77 0 144 5 158 11 50 23
62 95 22 134 -24 25 -25 25 -230 25 -205 0 -206 0 -230 -25z`}}),s("path",{attrs:{d:`M1053 2876 l-28 -24 0 -292 0 -292 28 -24 c34 -29 76 -31 111 -3 l26
20 0 150 0 149 144 0 c136 0 146 1 171 23 35 29 37 89 6 121 -19 19 -36 21
-169 26 l-147 5 -3 62 c-3 53 -7 65 -29 83 -34 27 -76 25 -110 -4z`}}),s("path",{attrs:{d:`M2939 2887 c-31 -24 -39 -56 -39 -162 0 -105 0 -107 30 -137 27 -26
36 -30 68 -25 63 11 72 32 72 169 0 113 -1 120 -25 143 -27 27 -79 33 -106 12z`}}),s("path",{attrs:{d:`M3443 2876 l-28 -24 -3 -231 -3 -231 -140 0 -141 0 -29 -29 -29 -29
0 -141 0 -141 -56 0 c-48 0 -59 -4 -85 -29 -16 -16 -29 -39 -29 -51 0 -29 26
-76 45 -84 9 -3 68 -6 131 -6 109 0 116 1 139 25 24 23 25 28 25 170 l0 145
145 0 c142 0 147 1 170 25 l25 24 0 231 0 230 60 0 c51 0 65 4 85 25 36 35 35
96 -1 124 -23 18 -41 21 -140 21 -105 0 -115 -2 -141 -24z`}}),s("path",{attrs:{d:`M1905 2705 c-24 -23 -25 -28 -25 -170 l0 -145 -145 0 c-142 0 -147
-1 -170 -25 -17 -16 -25 -35 -25 -60 0 -25 8 -44 25 -60 l24 -25 370 0 c203 0
377 3 386 6 19 8 45 55 45 84 0 12 -13 35 -29 51 l-29 29 -141 0 -141 0 0 141
0 141 -29 29 c-38 37 -82 39 -116 4z`}}),s("path",{attrs:{d:`M3956 2709 l-26 -20 0 -150 0 -149 -59 0 c-80 0 -111 -24 -111 -85 0
-35 5 -48 26 -64 23 -18 41 -21 140 -21 105 0 115 2 141 24 l28 24 0 207 0
207 -28 24 c-34 29 -76 31 -111 3z`}}),s("path",{attrs:{d:`M2604 2208 c-36 -17 -44 -52 -44 -193 l0 -135 -141 0 -141 0 -29 -29
c-29 -29 -29 -31 -29 -146 0 -110 1 -117 25 -140 16 -17 35 -25 60 -25 58 0
85 35 85 110 l0 60 85 0 85 0 0 -60 c0 -75 27 -110 85 -110 25 0 44 8 60 25
l25 24 0 288 c-1 302 -1 307 -47 331 -26 14 -50 14 -79 0z`}}),s("path",{attrs:{d:`M1072 2040 c-49 -20 -52 -46 -52 -505 0 -473 1 -483 60 -504 23 -7
166 -11 457 -11 463 0 483 2 503 56 7 17 10 187 8 475 l-3 448 -23 23 -23 23
-452 2 c-263 1 -462 -2 -475 -7z m806 -502 l-3 -343 -340 0 -340 0 -3 330 c-1
181 0 336 3 342 3 10 81 13 345 13 l340 0 -2 -342z`}}),s("path",{attrs:{d:`M1415 1698 c-41 -22 -45 -38 -45 -163 0 -114 1 -123 23 -143 21 -20
34 -22 141 -22 64 0 126 4 136 10 28 15 40 64 40 162 0 99 -13 137 -55 156
-33 15 -213 15 -240 0z`}}),s("path",{attrs:{d:`M3452 2034 c-49 -34 -48 -117 1 -142 14 -8 100 -13 247 -15 l225 -2
3 -145 c2 -132 4 -146 24 -167 23 -25 75 -31 108 -13 32 17 40 67 40 242 0
188 -10 231 -55 248 -15 6 -142 10 -298 10 -234 0 -276 -2 -295 -16z`}}),s("path",{attrs:{d:`M574 1703 c-12 -2 -30 -13 -40 -25 -18 -19 -19 -48 -19 -569 l0 -548
23 -23 23 -23 548 0 c516 0 550 1 569 18 37 34 34 103 -6 133 -13 11 -120 13
-504 14 l-488 0 0 488 c0 478 0 489 -20 510 -12 12 -25 22 -30 22 -4 0 -14 2
-22 4 -7 2 -23 1 -34 -1z`}}),s("path",{attrs:{d:`M3120 1697 c-33 -17 -50 -53 -50 -109 l0 -48 -45 0 c-56 0 -103 -23
-115 -56 -6 -14 -10 -86 -10 -160 l0 -134 -234 0 -235 0 -20 -26 c-28 -35 -26
-77 3 -111 l24 -28 291 0 c364 0 334 -17 341 193 l5 147 62 3 c53 3 65 7 83
29 18 23 20 40 20 142 -1 125 -6 143 -54 161 -34 13 -36 12 -66 -3z`}}),s("path",{attrs:{d:`M4491 1699 c-51 -20 -50 -10 -51 -531 l0 -488 -487 0 c-531 -1 -513
1 -534 -58 -13 -38 4 -80 41 -99 20 -10 142 -12 562 -10 l537 2 23 23 23 23 0
549 c0 536 0 550 -20 569 -25 24 -63 32 -94 20z`}}),s("path",{attrs:{d:`M3634 1526 c-44 -19 -54 -58 -54 -207 l0 -129 -56 0 c-30 0 -64 -4
-74 -10 -27 -15 -41 -64 -28 -101 19 -54 47 -59 331 -59 315 0 337 6 337 92 0
68 -11 72 -182 78 l-153 5 -2 135 c-4 170 -5 178 -48 196 -40 16 -32 16 -71 0z`}})])]))}}},506:function(d,v,r){"use strict";var n=r(481),_=r.n(n)},507:function(d,v,r){var n=r(23),_=n(function(u){return u[1]});_.push([d.i,".zxing[data-v-e6c95632]{width:100%;position:relative}.zxing__canvas[data-v-e6c95632]{width:100%;aspect-ratio:1}",""]),_.locals={},d.exports=_},508:function(d,v,r){"use strict";var n=r(482),_=r.n(n)},509:function(d,v,r){var n=r(23),_=n(function(u){return u[1]});_.push([d.i,".scan-form[data-v-7bfa1658]{width:100%;box-sizing:border-box;border:1px solid #ebebeb;padding:1.5rem 1.8rem;border-radius:2rem;transition:.3s}.scan-form__barcode[data-v-7bfa1658]{margin-bottom:1rem}.scan-form--active[data-v-7bfa1658]{border-color:#2c8eff}.scan-form__btn[data-v-7bfa1658]{width:100%;margin-bottom:1rem}.scan-form__btn-inner[data-v-7bfa1658]{display:flex;width:100%;justify-content:space-between;align-items:center}.scan-form__icon[data-v-7bfa1658]{width:1.8rem;height:1.8rem}.scan-form__icon path[data-v-7bfa1658]{fill:#f1f1f1}.scan-form__scanner[data-v-7bfa1658]{margin-bottom:1rem}.scanner[data-v-7bfa1658]{width:100%}.scanner[data-v-7bfa1658] video{width:100%;position:relative!important}.scanner[data-v-7bfa1658] canvas{width:100%}",""]),_.locals={},d.exports=_},514:function(d,v,r){"use strict";var n=r(486),_=r.n(n)},515:function(d,v,r){var n=r(23),_=n(function(u){return u[1]});_.push([d.i,".add__barcode[data-v-f2b1d1a8]{max-width:450px;margin-bottom:1rem}.add__product[data-v-f2b1d1a8]{max-width:400px;margin-bottom:1rem}.add__qrcode[data-v-f2b1d1a8]{max-width:450px}.add__btns[data-v-f2b1d1a8],.add__qrcode[data-v-f2b1d1a8]{margin-bottom:1rem}",""]),_.locals={},d.exports=_},548:function(d,v,r){"use strict";r.r(v);var n=function(){var e=this,a=e._self._c,o=e._self._setupProxy;return a("div",{staticClass:"page add"},[a("div",{staticClass:"container flex-col"},[a("ScanForm",{staticClass:"add__barcode",attrs:{title:"Product Scan"},model:{value:e.barcode,callback:function(p){e.barcode=p},expression:"barcode"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.barcode,expression:"barcode"}],staticClass:"add__btns"},[a("Button",{on:{click:e.trackProduct}},[e._v("Send To Check")])],1),e._v(" "),e.exist===!1?a("AddProduct",{staticClass:"add__product",attrs:{"is-user":!1,barcode:e.barcode},on:{onSubmit:e.onSubmit}}):e._e(),e._v(" "),e.exist===!0?a("ScanForm",{staticClass:"add__qrcode",attrs:{title:"Card Scan",type:"qrcode"},model:{value:e.qrcode,callback:function(p){e.qrcode=p},expression:"qrcode"}}):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.qrcode,expression:"qrcode"}],staticClass:"add__btns"},[a("Button",{on:{click:e.addProductToCard}},[e._v("Send To Bag")])],1)],1)])},_=[],u=r(16),m=r(2),y=r(0),i=r.n(y),l=r(62),s=function(){var e=this,a=e._self._c,o=e._self._setupProxy;return a("div",{staticClass:"scan-form",class:{"scan-form--active":e.value}},[a("Button",{staticClass:"scan-form__btn",attrs:{version:"primary",variant:"filled"}},[a("span",{staticClass:"scan-form__btn-inner"},[a("span",[e._v(e._s(e.title))]),e._v(" "),a(e.getIcon,{tag:"component",staticClass:"scan-form__icon"})],1)]),e._v(" "),a("ClientOnly",[e.isBarCode?a("Zxing",{on:{onDecode:e.onDecode}}):e._e(),e._v(" "),e.isBarCode?e._e():a("Reader",{staticClass:"scan-form__scanner",on:{onDecode:e.onDecode}})],1),e._v(" "),a("Input",{staticClass:"scan-form__input",attrs:{id:e.title,type:"text",label:e.getTitle,name:"scan",icon:"text",disabled:!1},model:{value:e.model,callback:function(p){e.model=p},expression:"model"}})],1)},c=[],h=r(504),x=r.n(h),O=r(505),b=r.n(O),j=r(473),w=function(){var e=this,a=e._self._c,o=e._self._setupProxy;return a("div",{staticClass:"reader",on:{click:function(p){return e.$emit("click")}}},[a("ClientOnly",[a("StreamBarcodeReader",{staticClass:"reader__body",on:{decode:e.onDecode,loaded:e.onLoaded}})],1)],1)},P=[],M=i.a.extend({name:"Reader",methods:{onDecode(t){this.$emit("onDecode",t)},onLoaded(t){this.$emit("loaded",t)}}}),T=M,z=r(3),I=Object(z.a)(T,w,P,!1,null,"51e12d0d",null),k=I.exports,L=function(){var e=this,a=e._self._c;return a("div",{staticClass:"zxing"},[a("canvas",{ref:"canvas",staticClass:"zxing__canvas",on:{click:e.restart}})])},W=[],q=r(64),ee=r(80),g=null,A=null,C=null,S=null,D=0,$={name:"Zxing",data(){return{result:!1,streaming:!1,width:320,height:0,canvas:null,video:null,context:null,animId:null}},mounted(){var t=this;return Object(m.a)(function*(){t.fixAudioContextWrap(),t.initWorker(),yield t.initNativeScanner(),t.initMedia()})()},beforeDestroy(){this.animId!==null&&cancelAnimationFrame(this.animId),this.stopStreamedVideo(),C!==null&&C.terminate(),S!==null&&S.terminate()},methods:{fixAudioContextWrap(){window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(g=new window.AudioContext),document.addEventListener("touchstart",this.fixAudioContext),document.addEventListener("touchend",this.fixAudioContext)},fixAudioContext(){if(g){var t=g.createBuffer(1,1,22050),e=g.createBufferSource();e.buffer=t,e.connect(g.destination),e.start?e.start(0):e.play?e.play(0):e.noteOn&&e.noteOn(0)}document.removeEventListener("touchstart",this.fixAudioContext),document.removeEventListener("touchend",this.fixAudioContext)},beep(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:750,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:150,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;try{var o=g.createOscillator(),f=g.createGain();o.connect(f),o.frequency.value=t,o.type="square",f.connect(g.destination),f.gain.value=a*.01,o.start(g.currentTime),o.stop(g.currentTime+e*.001)}catch(p){console.warn("Sorry, Web Audio API is not supported by your browser"),console.warn(p.toString())}},initMedia(){this.canvas=this.$refs.canvas,this.width=this.canvas.width=this.canvas.clientWidth,this.height=this.canvas.height=this.canvas.clientHeight;var t=document.createElement("video");t.setAttribute("id","video"),t.setAttribute("width",this.width),t.setAttribute("height",this.height),t.setAttribute("autoplay",""),this.video=t,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then(e=>{if(this.video!==null){this.video.srcObject=e;var a=e.getVideoTracks();a.forEach(o=>{o.applyConstraints({advanced:[{exposureMode:"manual"}]}).then(()=>{o.applyConstraints({advanced:[{exposureTime:3}]})})}),this.video.play()}}).catch(e=>console.log("An error occurred: "+e)),this.video.addEventListener("canplay",()=>{!this.streaming&&this.video&&this.canvas&&(this.streaming=!0,this.animId=requestAnimationFrame(this.tick))},!1)},tick(t){if(this.video.readyState===this.video.HAVE_ENOUGH_DATA&&(this.context.drawImage(this.video,0,0),this.context.drawImage(this.video,0,0,+this.canvas.width,+this.canvas.height),t-D>600)){D=t;var e=this.context.getImageData(0,0,+this.canvas.width,+this.canvas.height);C.postMessage(e),S.postMessage(e),this.detect()}this.animId=requestAnimationFrame(this.tick)},initNativeScanner(){return Object(m.a)(function*(){if("BarcodeDetector"in window){var t=yield window.BarcodeDetector.getSupportedFormats();A=new window.BarcodeDetector({formats:t})}})()},detect(){A&&A.detect(this.video).then(t=>{var e=[];t.forEach(o=>{var f=e.find(p=>p.val===o.rawValue);f?f.count+=1:e.push({val:o.rawValue,count:1})});var a=e.reduce((o,f,p)=>e[o].count>f.count?o:p,0);e[a]&&!this.result&&(this.stopAnalyze(!0),this.onDecode(e[a].val))}).catch(t=>{this.error=t})},initWorker(){navigator.serviceWorker&&(navigator.serviceWorker.register("/zxing/sw.js").then(t=>console.log("ServiceWorker Zxing registration successful with scope: ".concat(t.scope))).catch(t=>console.log("ServiceWorker Zxing registration failed: ".concat(t))),navigator.serviceWorker.register("/zbar/sw.js").then(t=>console.log("ServiceWorker Zbar registration successful with scope: ".concat(t.scope))).catch(t=>console.log("ServiceWorker Zbar registration failed: ".concat(t)))),C=new Worker("/zxing/wasmWorker.js"),C.onmessage=t=>this.terminateZhingWorker(t.data),S=new Worker("/zbar/wasmWorker.js"),S.onmessage=t=>this.terminateZbarWorker(t.data)},terminateZhingWorker(t){t.error&&this.stopAnalyze(),t.format&&!this.result&&(this.stopAnalyze(!0),this.drawResult(t),this.onDecode(t.text))},terminateZbarWorker(t){t&&!this.result&&(this.stopAnalyze(!0),this.onDecode(t))},stopAnalyze(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;cancelAnimationFrame(this.animId),this.stopVideo(),t&&(this.result=!0,this.beep())},stopVideo(){this.video&&!this.video.paused&&(this.streaming=!1,this.video.pause())},playVideo(){this.video&&this.video.paused&&(this.streaming=!0,this.video.play())},onDecode(t){this.$emit("onDecode",t)},stopStreamedVideo(){var t=this.video.srcObject,e=t.getTracks();e.forEach(a=>{a.stop()}),this.video.srcObject=null},drawResult(t){this.context.beginPath(),this.context.lineWidth=4,this.context.strokeStyle="red",this.context.moveTo(t.position.topLeft.x,t.position.topLeft.y),this.context.lineTo(t.position.topRight.x,t.position.topRight.y),this.context.lineTo(t.position.bottomRight.x,t.position.bottomRight.y),this.context.lineTo(t.position.bottomLeft.x,t.position.bottomLeft.y),this.context.lineTo(t.position.topLeft.x,t.position.topLeft.y),this.context.stroke()},restart(){this.streaming||(this.result=!1,this.playVideo(),this.animId=requestAnimationFrame(this.tick))}}},B=$,te=r(506),F=Object(z.a)(B,L,W,!1,null,"e6c95632",null),Z=F.exports,V={barcode:x.a,qrcode:b.a},K={barcode:"Bar Code",qrcode:"QR"},N=i.a.extend({name:"ScanForm",components:{Reader:k,Input:j.a,Button:l.a,Zxing:Z,IconBarCode:x.a,IconQrCode:b.a},props:{title:{type:String,default:"Scanner"},type:{type:String,default:"barcode"},value:{type:String,required:!0}},data(){return{active:!1,barcodes:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","code_39_vin_reader","codabar_reader"]}},computed:{getIcon(){return V[this.type]},getTitle(){return K[this.type]},isBarCode(){return this.type==="barcode"},model:{get(){return this.value},set(t){this.$emit("input",t)}}},methods:{onDecode(t){this.$emit("input",t)}}}),U=N,se=r(508),G=Object(z.a)(U,s,c,!1,null,"7bfa1658",null),H=G.exports,X=r(503);function E(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),a.push.apply(a,o)}return a}function R(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?E(Object(a),!0).forEach(function(o){Object(u.a)(t,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(a,o))})}return t}var Y=i.a.extend({name:"PageAdminIndex",components:{ScanForm:H,AddProduct:X.a,Button:l.a},layout:"admin",data(){return{barcode:"",exist:null,description:"",qrcode:""}},methods:{trackProduct(){var t=this;return Object(m.a)(function*(){try{t.$nuxt.$loading.start();var e=yield t.$repositories.product.trackProduct(t.barcode);e||(t.exist=!1)}catch(a){t.$store.dispatch("toast/setToast",{type:"error",message:t.$tc(a.error)})}finally{t.$nuxt.$loading.finish()}})()},onSubmit(t){var e=this;return Object(m.a)(function*(){try{e.$nuxt.$loading.start();var a=yield e.$repositories.product.addProduct(R(R({},t),{},{trackCode:e.barcode}));a&&(e.exist=!0)}catch(o){e.$store.dispatch("toast/setToast",{type:"error",message:e.$tc(o.error)})}finally{e.$nuxt.$loading.finish()}})()},addProductToCard(){var t=this;return Object(m.a)(function*(){try{t.$nuxt.$loading.start();var e=yield t.$repositories.product.addProductToCard({trackCode:t.barcode,cardCode:t.qrcode});console.log(e)}catch(a){t.$store.dispatch("toast/setToast",{type:"error",message:t.$tc(a.error)})}finally{t.$nuxt.$loading.finish()}})()}}}),J=Y,ae=r(514),Q=Object(z.a)(J,n,_,!1,null,"f2b1d1a8",null),re=v.default=Q.exports}}]);
